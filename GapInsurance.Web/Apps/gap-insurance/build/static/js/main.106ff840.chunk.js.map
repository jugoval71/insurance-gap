{"version":3,"sources":["App.js","Home/Home.js","Callback/Callback.js","history.js","Auth/auth0-variables.js","routes.js","Auth/Auth.js","index.js","Callback/loading.svg"],"names":["App","route","this","props","history","replace","concat","auth","login","logout","isAuthenticated","react_default","a","createElement","Navbar","fluid","Header","Brand","Button","href","bsStyle","className","onClick","goTo","bind","id","Component","Home","Callback","style","position","display","justifyContent","height","width","top","bottom","left","right","backgroundColor","src","loading","alt","createHistory","AUTH_CONFIG","domain","clientId","callbackUrl","Auth","Object","classCallCheck","auth0","WebAuth","clientID","redirectUri","responseType","scope","handleAuthentication","authorize","_this","parseHash","err","authResult","accessToken","idToken","setSession","console","log","alert","error","expiresAt","JSON","stringify","expiresIn","Date","getTime","localStorage","setItem","removeItem","parse","getItem","routes","Router","Route","path","render","src_App_0","assign","src_Home_Home","_ref","location","test","hash","src_Callback_Callback","ReactDOM","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.106ff840.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Navbar, Button } from 'react-bootstrap';\nimport './App.css';\n\nclass App extends Component {\n  goTo(route) {\n    this.props.history.replace(`/${route}`)\n  }\n\n  login() {\n    this.props.auth.login();\n  }\n\n  logout() {\n    this.props.auth.logout();\n  }\n\n  render() {\n    const { isAuthenticated } = this.props.auth;\n\n    return (\n      <div>\n        <Navbar fluid>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Button href=\"#\">Gap - Insurance</Button>\n            </Navbar.Brand>\n            <Button\n              bsStyle=\"primary\"\n              className=\"btn-margin\"\n              onClick={this.goTo.bind(this, 'home')}\n            >\n              Home\n            </Button>\n            {\n              !isAuthenticated() && (\n                <Button\n                  id=\"qsLoginBtn\"\n                  className=\"btn-margin\"\n                  onClick={this.login.bind(this)}\n                >\n                  Log In\n                  </Button>\n              )\n            }\n            {\n              isAuthenticated() && (\n                <Button\n                  id=\"qsLogoutBtn\"\n                  className=\"btn-margin\"\n                  onClick={this.logout.bind(this)}\n                >\n                  Log Out\n                  </Button>\n              )\n            }\n          </Navbar.Header>\n        </Navbar>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap'\n\nclass Home extends Component {\n  login() {\n    this.props.auth.login();\n  }\n  render() {\n    const { isAuthenticated } = this.props.auth;\n    return (\n      <div className=\"container\">{isAuthenticated() && (<h4>You are logged in!</h4>)}\n        {!isAuthenticated() && (<h4>You are not logged in! Please{' '}\n          <Button\n            onClick={this.login.bind(this)}\n          >\n            Log In\n        </Button>\n          {' '}to continue.</h4>)}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport loading from './loading.svg';\n\nclass Callback extends Component {\n  render() {\n    const style = {\n      position: 'absolute',\n      display: 'flex',\n      justifyContent: 'center',\n      height: '100vh',\n      width: '100vw',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundColor: 'white',\n    }\n\n    return (\n      <div style={style}>\n        <img src={loading} alt=\"loading\"/>\n      </div>\n    );\n  }\n}\n\nexport default Callback;","import createHistory from 'history/createBrowserHistory'\n\nexport default createHistory()\n","export const AUTH_CONFIG = {\n  domain: 'jugoval.auth0.com',\n  clientId: '9HCt2WIX9KtdE21Xyw1LBvgszJDUOcgz',\n  callbackUrl: 'http://localhost:3000/callback'\n}\n","import React from 'react';\nimport { Route, Router } from 'react-router-dom';\nimport App from './App';\nimport Home from './Home/Home';\nimport Callback from './Callback/Callback';\nimport Auth from './Auth/Auth';\nimport history from './history';\n\nconst auth = new Auth();\n\nconst handleAuthentication = ({location}) => {\n  if (/access_token|id_token|error/.test(location.hash)) {\n    auth.handleAuthentication();\n  }\n}\n\nexport const makeMainRoutes = () => {\n  return (\n      <Router history={history}>\n        <div>\n          <Route path=\"/\" render={(props) => <App auth={auth} {...props} />} />\n          <Route path=\"/home\" render={(props) => <Home auth={auth} {...props} />} />\n          <Route path=\"/callback\" render={(props) => {\n            handleAuthentication(props);\n            return <Callback {...props} /> \n          }}/>\n        </div>\n      </Router>\n  );\n}\n","import history from '../history';\nimport auth0 from 'auth0-js';\nimport { AUTH_CONFIG } from './auth0-variables';\n\nexport default class Auth {\n  auth0 = new auth0.WebAuth({\n    domain: AUTH_CONFIG.domain,\n    clientID: AUTH_CONFIG.clientId,\n    redirectUri: AUTH_CONFIG.callbackUrl,\n    responseType: 'token id_token',\n    scope: 'openid'\n  });\n\n  constructor() {\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n  }\n\n  login() {\n    this.auth0.authorize();\n  }\n\n  handleAuthentication() {\n    this.auth0.parseHash((err, authResult) => {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        this.setSession(authResult);\n        history.replace('/home');\n      } else if (err) {\n        history.replace('/home');\n        console.log(err);\n        alert(`Error: ${err.error}. Check the console for further details.`);\n      }\n    });\n  }\n\n  setSession(authResult) {\n    // Set the time that the access token will expire at\n    let expiresAt = JSON.stringify((authResult.expiresIn * 1000) + new Date().getTime());\n    localStorage.setItem('access_token', authResult.accessToken);\n    localStorage.setItem('id_token', authResult.idToken);\n    localStorage.setItem('expires_at', expiresAt);\n    // navigate to the home route\n    history.replace('/home');\n  }\n\n  logout() {\n    // Clear access token and ID token from local storage\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('expires_at');\n    // navigate to the home route\n    history.replace('/home');\n  }\n\n  isAuthenticated() {\n    // Check whether the current time is past the \n    // access token's expiry time\n    let expiresAt = JSON.parse(localStorage.getItem('expires_at'));\n    return new Date().getTime() < expiresAt;\n  }\n}\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { makeMainRoutes } from './routes';\n\nconst routes = makeMainRoutes();\n\nReactDOM.render(\n  routes,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/loading.c5590569.svg\";"],"sourceRoot":""}