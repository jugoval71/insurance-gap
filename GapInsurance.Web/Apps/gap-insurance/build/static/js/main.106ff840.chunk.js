(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(29),o=n.n(a),i=(n(63),n(65),n(1)),c=n.n(i),r=n(130),l=n(129),s=n(13),u=n(14),h=n(18),m=n(17),d=n(19),g=n(128),p=n(131),b=(n(67),function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"goTo",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return c.a.createElement("div",null,c.a.createElement(g.a,{fluid:!0},c.a.createElement(g.a.Header,null,c.a.createElement(g.a.Brand,null,c.a.createElement(p.a,{href:"#"},"Gap - Insurance")),c.a.createElement(p.a,{bsStyle:"primary",className:"btn-margin",onClick:this.goTo.bind(this,"home")},"Home"),!e()&&c.a.createElement(p.a,{id:"qsLoginBtn",className:"btn-margin",onClick:this.login.bind(this)},"Log In"),e()&&c.a.createElement(p.a,{id:"qsLogoutBtn",className:"btn-margin",onClick:this.logout.bind(this)},"Log Out"))))}}]),t}(i.Component)),f=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"login",value:function(){this.props.auth.login()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return c.a.createElement("div",{className:"container"},e()&&c.a.createElement("h4",null,"You are logged in!"),!e()&&c.a.createElement("h4",null,"You are not logged in! Please"," ",c.a.createElement(p.a,{onClick:this.login.bind(this)},"Log In")," ","to continue."))}}]),t}(i.Component),k=n(53),v=n.n(k),y=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{style:{position:"absolute",display:"flex",justifyContent:"center",height:"100vh",width:"100vw",top:0,bottom:0,left:0,right:0,backgroundColor:"white"}},c.a.createElement("img",{src:v.a,alt:"loading"}))}}]),t}(i.Component),E=n(54),O=n.n(E)()(),j=n(55),I={domain:"jugoval.auth0.com",clientId:"9HCt2WIX9KtdE21Xyw1LBvgszJDUOcgz",callbackUrl:"http://localhost:3000/callback"},w=new(function(){function e(){Object(s.a)(this,e),this.auth0=new j.a.WebAuth({domain:I.domain,clientID:I.clientId,redirectUri:I.callbackUrl,responseType:"token id_token",scope:"openid"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this)}return Object(u.a)(e,[{key:"login",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;this.auth0.parseHash(function(t,n){n&&n.accessToken&&n.idToken?(e.setSession(n),O.replace("/home")):t&&(O.replace("/home"),console.log(t),alert("Error: ".concat(t.error,". Check the console for further details.")))})}},{key:"setSession",value:function(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t),O.replace("/home")}},{key:"logout",value:function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),O.replace("/home")}},{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}}]),e}()),S=c.a.createElement(r.a,{history:O},c.a.createElement("div",null,c.a.createElement(l.a,{path:"/",render:function(e){return c.a.createElement(b,Object.assign({auth:w},e))}}),c.a.createElement(l.a,{path:"/home",render:function(e){return c.a.createElement(f,Object.assign({auth:w},e))}}),c.a.createElement(l.a,{path:"/callback",render:function(e){return function(e){var t=e.location;/access_token|id_token|error/.test(t.hash)&&w.handleAuthentication()}(e),c.a.createElement(y,e)}})));o.a.render(S,document.getElementById("root"))},53:function(e,t,n){e.exports=n.p+"static/media/loading.c5590569.svg"},58:function(e,t,n){e.exports=n(126)},63:function(e,t,n){},67:function(e,t,n){}},[[58,2,1]]]);
//# sourceMappingURL=main.106ff840.chunk.js.map